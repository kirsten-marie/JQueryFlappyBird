<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
    <script>
        //Constants
        var MAX_HEALTH = 3;
        var STARTING_SPEED = 10;
        var starPoints = 10;

        //Canvas Size
        var canvasWidth = 600;
        var canvasHeight = 400;

        //Spritesheet
        var sheetSource = "img/birdspritesheet.png";
        var sheetWidth = 800;
        var sheetHeight = 278;
        var sheetRows = 2;
        var sheetColumns = 4;

        //Get sprite size from sheet
        var spriteWidth = sheetWidth / sheetColumns;
        var spriteHeight = sheetHeight / sheetRows;

        //Frame information to display sprites
        var totalFrames = 4;
        var currentFrame = 0;

        //x and y coordinates where the sprite will be displayed
        var x = 0;
        var y = 0;

        //x and y coordinates of the canvas for one frame
        var spriteX; 
        var spriteY; 

        //Bird will start flying down at a speed of 5
        var up = false;
        var down = true;
        var flySpeed = 5;

        //Game Variables
        var canvas, context, playerCharacter;
        var health = MAX_HEALTH;
        var score = 0;
        var timer = 0;
        var numberStars = 0;
        var gamePaused = false;
        var gameOver = false;


       //Set up the canvas
       canvas = $("#myCanvas");
       canvas.width = canvasWidth;
       canvas.height = canvasHeight;

       //Connection between canvas and context
       var context = canvas.getContext("2d");
       var playerCharacter = createAvatar();




        function dostartup() {
            canvas = document.getElementbyId("myCanvas");
            context = canvas.getContext("2d");

            window.requestAnimFrame = (function(callback) {
                return window.requestAnimationFrame || window.webkitRequestAnimationFrame || 
                    window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
                    function(callback) {
                        window.setTimeout(callback, 1000 / 60);
                    };
                })();
            animate();

        }

        function createAvatar(){
            a = new Image();
            a.x =screenwidth/4;
            a.height = spriteHeight;
            a.width = spriteWidth;
            a.src = sheetSource;
            return a;
        }



        function animate() {
            //clear the canvas
            context.clearRect(0, 0, canvas.width, canvas.height);
            showScore();

            //If out of health, end the game
            if (gameOver) {

            }

        }

        function updateFrame(){
            currentFrame = ++currentFrame % totalFrames;

            sourceX *= currentFrame* width;
        }
        


        //Restart the game by resetting health, score, and speed
        function restartGame(){
            health = MAX_HEALTH;
            score = 0;
            gamePaused = false;
        }
        </script>
 </head>
 <body onload="doStartup();">
     <button id="restart" onclick="restartGame();">Restart Game</button>
     <p>
     <canvas id="myCanvas" width="800" height="500" style="border:1px solid #000000;" onmousemove="controlAvatar(event);" onclick="avatarShoot();"> 
     </canvas></p><p>
    </p>
</body>
</html>